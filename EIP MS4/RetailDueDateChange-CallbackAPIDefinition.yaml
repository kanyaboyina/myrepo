openapi: 3.0.0
info:
  title: 'Retail Due Date Change Callback Service'
  version: v0.2
  description: >-
    Provides an on-demand service for Retail Due Date Change Callback Service.
servers:
  - url: 'https://cep.{cepserver}:{port}/'
    description: 'Retail Account Customer Engagement Platform Service endpoint per deployment environment'
    variables:
      cepserver:
        description: >- 
          Assigned at deployment time per deployed environment.
        default: 'salesforce.com'
      port:
        description: >-
          Assigned at deployment time per deployment environment.
        default: '8080'
paths:
  '/retailAccount/scheduledPaymentDueDate':
    put:
      description: 'Callback API to post Retail Due Date Change Transaction Processing Results.'
      operationId: 'retailDueDateChangeCallback'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RetailDueDateCallback'
        description: 'Due Date Change Callback Context & Resource Attributes'      
      responses:
        '200':
          description: 'Due Date Change Transaction Request Processed Successfully'
          content:
            application/json:
              schema:
                  $ref: '#/components/schemas/RetailDueDateCallbackAcknowledgement'
        '500':
          description: 'Error processing Due Date Change Transaction Request'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RetailDueDateCallbackAcknowledgement'          
components:
  schemas:         
    RetailDueDateCallback:
      type: object
      required:
        - apiCallbackContext
        - financialAccountNumber  
      properties:
        apiCallbackContext:
          type: object
          description: >-
            Provides the detailed context for Retail Due Data Callback
          properties:
            interactionID:
              type: string
              description: >-
                Globally Unique Identifier assigned by Client System representing the instance of an interaction with the Due Date Change Service.
            apiCallbackInitiatedOn:
              type: string
              format: date-time
              example: 2017-07-21T17:32:28Z
              description: >-
                Date & Time at which Callback API was Initiated by Server in ISO 8601 format. 
            apiInitiatingPartyID:
              type: string
              description: >-
                Unique Identifier representing the Party/System Initiating the API.    
            apiReactingPartyID:
              type: string
              description: >-
                Unique Identifier representing the Party/System Reacting to the API.                              
            apiCallbackCode:
              type: string
              description: >-
                Response Code from the Due Date Change Service indicating the status of Due Date Change transaction.
            apiCallbackDescription:
              type: string
              description: >-
                Provides the description for Response Code from the Due Date Change Service indicating the status of Due Date Change transaction                
        apiExceptionContext:
          properties:
            apiExceptionCode:
              type: string
              description: >-
                Exception code from the Due Date Change Service indicating that the Due Date Change transaction was not processed successfully.
            apiExceptionDescription:
              type: string
              description: >-
                Provides the description for Exception Code from the Due Date Change Service indicating that the Due Date Change transaction was not processed successfully
            apiResourceExceptionDetail:
              type: array
              items:
                type: object
                description: >-
                  Provides the reference to the Resource Attribute that caused the Exception
                properties:
                  resourceAttributeName:
                    type: string
                    description: >-
                      Name of the Resource Attribute that caused the Exception.                    
                  resourceAttributeValue:
                    type: string  
                    description: >-
                      Value of the Resource Attribute that caused the Exception.                      
                  resourceAttributeExceptionCode:
                    type: string            
                    description: >-
                      Exception Code representing the type of error caused by the given Attribute.                    
                  resourceAttributeExceptionDescription:
                    type: string  
                    description: >-
                      Description of the Exception Code representing the type of error caused by the given Resource Attribute.                    
        financialAccountNumber:
          type: string
          description: >-
            Unique Identifier for a Loan Account within Toyota Financial Services
            Composite Key - [Bank][Branch][Loan Number][Schedule Number]
                            [999][999][AAAAAAA][9999]
    RetailDueDateCallbackAcknowledgement:
      properties:            
        apiAcknowledgementContext:
          properties:
            interactionID:
              type: string
              description: >-
                Globally Unique Identifier assigned by Client System representing the instance of an interaction with the Due Date Change Service.
            apiAcknowledgementInitiatedOn:
              type: string
              format: date-time
              example: 2017-07-21T17:32:28Z              
              description: >-
                Date & Time at which API Acknowledgement was Initiated by Due Date Change Service in ISO 8601 format.      
            apiAcknowledgementCode:
              type: string
              description: >-
                Return Code from Client indicating that the Due Date Change Callback was processed successfully.
            apiAcknowledgementDescription:
              type: string
              description: >-
                Provides the description for Return Code from Client indicating that the Due Date Change Callback was processed successfully.
        apiExceptionContext:
          properties:
            apiExceptionCode:
              type: string
              description: >-
                Exception code from Client indicating that the Due Date Change Callback was not processed successfully.
            apiExceptionDescription:
              type: string
              description: >-
                Provides the description for Exception Code from Client indicating that the Due Date Change Callback was not processed successfully
            apiResourceExceptionDetail:
              type: array
              items:
                type: object
                description: >-
                  Provides the reference to the Resource Attributes that caused the Exception
                properties:
                  resourceAttributeName:
                    type: string
                    description: >-
                      Name of the Resource Attribute that cased the Exception.                    
                  resourceAttributeValue:
                    type: string  
                    description: >-
                      Value of the Resource Attribute that cased the Exception.                      
                  resourceAttributeExceptionCode:
                    type: string            
                    description: >-
                      Exception Code representing the type of error caused by the given Resource Attribute.                    
                  resourceAttributeExceptionDescription:
                    type: string  
                    description: >-
                      Description of the Exception Code representing the type of error caused by the given Resource Attribute.